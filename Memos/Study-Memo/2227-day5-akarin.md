### 第五周课堂小结
张心远 2018012227

####量化部分
***
#####股票池 & 择时 
######实例：股票池设计思路
*	股票池
	* 市值因子 
	* 估值因子：PE（TTM）在0-100之间
	* 超跌因子：25日跌幅前10%
	* ST股票处理
	* 操作细节
		* 再平衡周期：25日
		* 容量：无限制
*	择时 
	* 买入：20minK线，MA3（连续3根K线）上穿MA200
	* 卖出：20minK线，MA3（连续3根K线）下穿MA200
		* 和大多数人使用的不一样，能保证有效性	
		* 自定义交易逻辑：定义计数器
*	代码例子：https://github.com/saturn-lab/FBDQA-2020A/blob/master/learnQuant/Quant-Plouto/股票池双均线.py

######交易记录分析
*趋势性策略，出场信号比入场信号重要*

######股票池的进一步优化
*股票池构建：选股条件 + 容量 + 再平衡*
* 典型的选股因子 & 特殊处理：
	* PE -> EP：分母是每股盈利，保证不为0
	* PB -> BP：分母是每股净资产，保证不为0
* 选股框架：多因子的权衡
	* 因子分类 & 权重：价值类、质量类、...
		* 一个例子： 
			* 风险得分：资产负债率 + 流动比率
			* 运营效率：总资产周转率 + 存货周转率
	* 类内因子权重
	* 最终因子权重
	* 为股票进行评分
		* 因子值直接打分：e.g. 40%-60%的资产负债率 = 60分
		* 因子值排序打分：e.g. ROA在前20% = 60分

######择时信号的优化
* 周期：N分钟不同K线
* 级别：MA5，MA30
* 顺势
	* 尽早进入：选择周期短的均线
	* 避免错误进入：
	* 实践经验：小周期大均线 


####金融部分
***
######趋势跟随与均值回复
* 观察尺度决定策略
#####均值回复策略
* 均值回复原理
* 应用：短期市场反转逻辑
	* 因子：过去3个月表现最差的N只股票构成的组合
		* 防止风险，选取合适的N
		* 多空结合 
	* 再平衡周期：1个月	 
	* 头寸管理：所有入选股票均仓，市值加权
* 优化方式
	* 尺度量价
		* 考虑时间、空间尺度、 成交量
	* 缺口方式 
		* 交易策略：日内均值回复 
		* 开盘瞬间选择低开的股票
			* 低开：前一日最低价 - 今日开盘价低于一个标准差
		*	缩小范围：当日开盘价高于MA20（日）  
		*	按缺口从大到小排序，买入前10只
		*	收盘前清算，T+1则次日开盘清算
	* 套利模式
		* 两只股票之间的可替代性
		* 两组股票之间的相关性
		* 2种/多种ETF之间
		* ETF & 标的一揽子股票之间
		* 现货 & 期货之间 
* 均值回复的退出方式：超过某一通道的上限

#####检验交易策略
* 定义风险：收益率的标准差stdev.p
	* 标准差的特点：风险分散化
* 重要的策略评价指标
	* 夏普比率：风险和收益的平衡
	* 最大回撤：最坏情况
* 检验超额收益：后验alpha分解

#####TB实操
*mac用不了TB，所以不记了*

####SQL
*学过不多记了*
***
######关系数据模型
* 数据模型（表格）
######SQL语言
* DDL & DML（定义 & 操作）
* 定义在集合上，无序、允许重复
* 表、数据类型、key
* 数据的单表查询：SFW，like/distinct/orderby
	* like：相似匹配
	* distict：不重复
* 多表查询：join
	* inner & outer & left & right join
#####SQLite
* 需要连接到数据库，创建一个cursor
* 在cursor中执行SQL语句
* 执行完毕后commit