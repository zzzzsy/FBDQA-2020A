# 第七周

## 量化：技术指标

问题：

* 控制回撤时间
* 策略的检验：仔细分析各笔交易

回顾

* Alpha策略
  * 做空股指期货以抵消Beta
  * IF ~ HS300
    * $P_{IF}=300*P_{IF}$，保证金只需要10%（有杠杆）



信息率：

$IR=\alpha / \omega$ 即主动收益/主动风险；而夏普比率是总收益/总风险

* 0.5是平均位；>1非常优秀

### 经典技术指标

* 均线
* 趋势
* 摆动
* 能量



#### MACD

```c++
DIF = EMA(CLOSE, SHORT) - EMA(CLOSE, LONG);
DEA = EMA(DIF, MID);
MACD = (DIF - DEA)*2; //为了好看
```

#### KD-随机数

$$
\% K = 100\cdot \frac{close - min_n low}{max_n high - min_n low}, \%D = MA(\%K,N)
$$

认为超买超卖

#### RSI - 相对强弱指数

$$
RSI = 100 * \frac{\sum_1^n max(Close - LC, 0)}{\sum_1^n |Close - LC|}
$$

表示涨的K线的根数

取决于世界观：

* 到头了
* 趋势跟随

### 技术指标的应用技巧

* 信号
  * 突破
  * 交叉
  * 背离
    * 顶背离
    * 底背离
* 用途
  * 预警
  * 确认
  * 预测
* 决策
  * 趋势跟踪
  * 高抛低吸
* 动作
  * 买入
  * 卖出
  * 观望

### 其他指标

* 基本面指标

* 资金流向指标

### 编程检测

* 信号闪烁
  * 尽量不要用当前K线的收盘价（时刻变化）
  * 如果一定要用，一般用最高价或最低价
* 边界异常
* 可变因素处理
* “噪声”处理

### K线形态组合

主力资金绘制图线割散户

识别经典价格形态 利用其作为信号

#### RSRS

上涨强过下跌 用线性回归看趋势