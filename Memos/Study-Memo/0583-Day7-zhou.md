### 课程小结7 周航宇 2017010583
### 构造更精细的信号系统：以量化的角度重新认识技术指标
#### 股票池择时
股票池+择时->策略基础
#### 超额收益的检验：后验Alpha分解
#### 应用：股票型Alpha策略
#### Alpha的后验分解算法
+ 给定一个组合P，估算该组合相对于业绩基准组合B的各参数：$\beta_P、\alpha_P $以及组合风险$\sigma_P$和残差风险$\omega_P$ 
+ 定义$\beta_P=\frac{Cov(r_P,r_B)}{Var(r_B)}$
以周为采样周期，业绩基准组合B选择沪深300，可以得到组合P与业绩基准组合B在回测区间内的历史超额收益序列
+ $r_P(t)=\beta_P\cdot r_B(t)+\alpha_P+\epsilon_P(t)$
+ 定义$\theta_P(t)=\alpha_P+\epsilon_P(t)$为残差
+ 求得$\beta_P$后，求期望可以得到$$E[r_P(t)]=\beta_PE[r_B(t)]+E[\theta_P(t)]$$因此求得$\theta_P(t)$时间序列后，可得$\alpha_P=E[\theta_P(t)]$
+ 投资组合P的风险为$r_P(t)$的标准差$\sigma_P$ 而残差风险$\omega_P=\sqrt{\sigma_P^2-\beta_P^2\cdot\sigma_B^2}$再将上述值年化


+ 信息率
&emsp;反映主动投资能力的指标
$$IR=\frac{\alpha}{\omega}$$
\par 信息率：主动收益/主动风险。信息率意味着主动承担了相对于基准组合的风险敞口，带来了多少超额收益。
信息率也可以用来衡量投资经理的主动投资能力。
#### 常见技术指标的分类
均线型、趋势型、摆动型、能量型
#### 编写技术指标
+ 脚本语言
+ 高级语言
+ 第三方语言
#### 常用指标
+ KD——随即指数
$$\%K=100\times\frac{Close-min_n Low}{max_n High-min_n Low}$$
$$%D=MA(%K,N)$$
+ RSI——相对强弱指数
$RSI=100\times\frac{\sum_1^nMAX(Close-LC,0)}{\sum_1^n|Close-LC|}$
#### 技术指标的应用技巧
+ 信号——突破、交叉、背离
+ 用途——预警、确认、预测
+ 决策——趋势跟踪、高抛低吸
+ 动作——买入、卖出、观望
价格突破/指标突破、均线交叉/其他指标交叉、顶背离（bearish divergence 做空信号）/底背离（bullish divergence 做多信号）
#### 延迟、预警、确认
#### 更多的交易决策依据
+ 基本面：业绩表现、潜力大小、是否抗跌
+ 资金面：大盘/板块资金流向、个股资金流向、主力大单的表现
+ 技术面：趋势方向如何、涨跌空间大小、有无买/卖信号
+ 其他：市场情绪、利多/利空的消息/新闻、公告事件
客观看待，理性应用：
+ 扬长避短、综合判断、概率思维
#### 指标的代码实现与讨论
+ 信号的闪烁、边界与异常、噪声的滤除、可变因素的处理
#### 收益分布——时间/收益/频次
#### 根据性能数据判断持仓周期？
胜率赔率决定了期望收益，但是还需要考虑交易成本的影响，持仓周期、资金利用率与年化收益、交易机会的多少与交易频次、资金管理与风险控制。
#### K线形态组合
##### 经典价格形态
+ 反转形态
+ 持续形态
##### 经典价格形态的自动识别
+ 全市场多周期扫描
+ 自动快速不疲劳
+ 可用于量化策略制定
##### 振荡突破
定义趋势效率为
$$Eff=\frac{H-L}{\sum_i(H_i-L_i)}$$

##### RSRS的启发
+ 上涨遇阻力，下跌无支撑
+ 上涨破阻力，下跌有支撑
采用一元线性回归与OLS：
+ $H=\beta \cdot L+\alpha+\epsilon$
